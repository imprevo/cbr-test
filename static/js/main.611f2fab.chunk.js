(window["webpackJsonpcbr-test"]=window["webpackJsonpcbr-test"]||[]).push([[0],[,,,function(e,t,n){e.exports={block:"Json_block__1t_ki",string:"Json_string__GWkI1",padded:"Json_padded__21ccz",comma:"Json_comma__14CuR"}},function(e,t,n){e.exports={modal:"Modal_modal__1m6Sa",dialog:"Modal_dialog__e99aH",shadow:"Modal_shadow__21AX9",title:"Modal_title__aGaE5",close:"Modal_close__a6eWZ"}},,,,function(e,t,n){e.exports={tag:"Tag_tag__2AMXh",attribute:"Tag_attribute__1mh_9",value:"Tag_value__3tvK1"}},function(e,t,n){e.exports={element:"ElementItem_element__xYlrN",buttons:"ElementItem_buttons__29J9l",target:"ElementItem_target__23C4V"}},function(e,t,n){e.exports={element:"ElementItem_element___2iMf",buttons:"ElementItem_buttons__zWHEE",target:"ElementItem_target__32H2w"}},,,function(e,t,n){e.exports={button:"Button_button__1f97C"}},function(e,t,n){e.exports={input:"Input_input__2Gfro"}},function(e,t,n){e.exports={label:"FormRow_label__1Tef7"}},,function(e,t,n){e.exports={"input-group":"InputGroup_input-group__3ERfY","align-center":"InputGroup_align-center__3FyKp","align-between":"InputGroup_align-between__3KGfv"}},function(e,t,n){e.exports={button:"ButtonIcon_button__15hlT"}},function(e,t,n){e.exports={list:"ElementList_list__2-Rsw"}},function(e,t,n){e.exports=n(26)},,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(6),c=n.n(l),u=(n(25),n(1)),o=n(7),i=n.n(o),m=n(5),s=n(2);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e,t){return t.some((function(t){return t===e}))}function b(e,t){if(!e[t])return e;var n=[t].concat(function e(t,n){var a=t[n];if(!a)return[];var r=a.children;if(!r.length)return r;var l=r.map((function(n){return e(t,n)}));return r.concat.apply(r,Object(m.a)(l))}(e,t));return Object.values(e).reduce((function(e,t){return p(t.id,n)||(e[t.id]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{children:t.children.filter((function(e){return!p(e,n)}))})),e}),{})}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){switch(t.type){case"element/add":var n;return null!==t.payload.parentId&&t.payload.parentId in e.data?E({},e,{data:E({},e.data,(n={},Object(s.a)(n,t.payload.parentId,E({},e.data[t.payload.parentId],{children:[].concat(Object(m.a)(e.data[t.payload.parentId].children),[t.payload.element.id])})),Object(s.a)(n,t.payload.element.id,t.payload.element),n))}):E({},e,{data:E({},e.data,Object(s.a)({},t.payload.element.id,t.payload.element)),root:e.root.concat(t.payload.element.id)});case"element/edit":return E({},e,{data:E({},e.data,Object(s.a)({},t.payload.id,E({},e.data[t.payload.id],{},t.payload)))});case"element/remove":return E({},e,{data:b(e.data,t.payload),root:e.root.filter((function(e){return e!==t.payload}))});case"attribute/add":return E({},e,{data:E({},e.data,Object(s.a)({},t.payload.elementId,E({},e.data[t.payload.elementId],{attributes:[].concat(Object(m.a)(e.data[t.payload.elementId].attributes),[t.payload.attribute])})))});case"attribute/edit":return E({},e,{data:E({},e.data,Object(s.a)({},t.payload.elementId,E({},e.data[t.payload.elementId],{attributes:e.data[t.payload.elementId].attributes.map((function(e){return e.id===t.payload.attribute.id?t.payload.attribute:e}))})))});case"attribute/remove":return E({},e,{data:E({},e.data,Object(s.a)({},t.payload.elementId,E({},e.data[t.payload.elementId],{attributes:e.data[t.payload.elementId].attributes.filter((function(e){return e.id!==t.payload.attributeId}))})))});default:return e}}var y={data:{el1:{id:"el1",name:"el1",attributes:[{id:"attr1",name:"attr1",value:"value1"},{id:"attr2",name:"attr2",value:"value2"}],children:["el2"]},el2:{id:"el2",name:"el2",attributes:[],children:[]},el3:{id:"el3",name:"el3",attributes:[],children:["el4"]},el4:{id:"el4",name:"el4",attributes:[],children:["el5"]},el5:{id:"el5",name:"el5",attributes:[{id:"attr1",name:"attr1",value:"value1"}],children:[]}},root:["el1","el3"]},h=a.createContext([y,function(){}]),g=function(){return a.useContext(h)[0]},_=function(e){return g().data[e]},O=function(){var e=a.useContext(h),t=Object(u.a)(e,2)[1];return{add:a.useCallback((function(e){return t({type:"element/add",payload:{parentId:e.parentId,element:{id:i()(),name:e.name,attributes:[],children:[]}}})}),[t]),edit:a.useCallback((function(e){return t({type:"element/edit",payload:e})}),[t]),remove:a.useCallback((function(e){return t({type:"element/remove",payload:e})}),[t])}},C=function(e){var t=e.children;return a.createElement(h.Provider,{value:a.useReducer(v,y)},t)},j=n(13),k=n.n(j),w=function(e){var t=e.children,n=e.type,r=void 0===n?"button":n,l=e.onClick;return a.createElement("button",{className:k.a.button,type:r,onClick:l},t)},I=n(4),N=n.n(I),P=function(e){var t=e.children,n=e.show,r=e.title,l=e.onClose;return n?c.a.createPortal(a.createElement("div",{className:N.a.modal},a.createElement("div",{className:N.a.shadow}),a.createElement("div",{className:N.a.dialog},a.createElement("h2",{className:N.a.title},r),a.createElement("button",{className:N.a.close,type:"button",onClick:l}),t)),document.body):null},S=n(14),D=n.n(S),F=function(e){var t=e.name,n=e.placeholder,r=e.value,l=e.onChange,c=e.required,u=e.pattern,o=e.autoFocus;return a.createElement("input",{className:D.a.input,name:t,placeholder:n,type:"text",value:r,onChange:l,required:c,pattern:u,autoFocus:o})},x=n(15),A=n.n(x),R=function(e){var t=e.children,n=e.label;return a.createElement("label",{className:A.a.label},n,t)},G=n(16),J=n.n(G),M=n(17),z=n.n(M),q=J.a.bind(z.a),T=function(e){var t=e.children,n=e.align,r=void 0===n?"between":n;return a.createElement("div",{className:q("input-group","align-".concat(r))},t)},Z=function(e){var t=e.onChange,n=e.value,r=e.autoFocus;return a.createElement(R,{label:"Name:"},a.createElement(T,null,a.createElement(F,{name:"name",placeholder:"Enter name",value:n,onChange:function(e){return t(e.target.value)},required:!0,pattern:"[a-zA-Z][a-zA-Z0-9]+",autoFocus:r})))},B=function(e){var t=e.id,n=e.onClose,r=O().add,l=a.useState(""),c=Object(u.a)(l,2),o=c[0],i=c[1];return a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=o.trim();a&&(r({parentId:t||null,name:a}),n())}},a.createElement(Z,{onChange:i,value:o,autoFocus:!0}),a.createElement(w,{type:"submit"},"Create"))},H=function(){var e=a.useState(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],l=a.useCallback((function(){return r(!1)}),[]),c=a.useCallback((function(){return r(!0)}),[]);return a.createElement(a.Fragment,null,a.createElement(w,{onClick:c},"Create element"),a.createElement(P,{show:n,title:"Create element",onClose:l},a.createElement(B,{onClose:l})))},K=n(18),W=n.n(K),V=function(e){var t=e.name,n=e.type,r=void 0===n?"button":n,l=e.onClick;return a.createElement("button",{className:W.a.button,type:r,onClick:l},a.createElement("i",{className:"fa fa-".concat(t)}))},X=n(8),Y=n.n(X),L=function(e){var t=e.children,n=e.closed,r=e.selfClosed;return a.createElement("span",{className:Y.a.tag},"<",n&&"/",t,r&&" /",">")},Q=function(e){var t=e.name,n=e.value;return a.createElement("span",{className:Y.a.attribute}," ",t,'="',a.createElement("span",{className:Y.a.value},n),'"')},U=function(e){var t=e.id,n=e.name,r=a.useState(!1),l=Object(u.a)(r,2),c=l[0],o=l[1],i=a.useCallback((function(){return o(!1)}),[]),m=a.useCallback((function(){return o(!0)}),[]);return a.createElement(a.Fragment,null,a.createElement(V,{name:"plus",onClick:m}),a.createElement(P,{show:c,title:"Create child for element ".concat(n),onClose:i},a.createElement(B,{id:t,onClose:i})))},$=function(e){var t=e.onChange,n=e.onDelete,r=e.value,l=e.name;return a.createElement(R,{label:"Attribute ".concat(l,":")},a.createElement(T,null,a.createElement(F,{name:"attribute_".concat(l),placeholder:"Enter attribute value",value:r,onChange:function(e){return t(l,e.target.value)},required:!0,pattern:"[a-zA-Z0-9]+"}),a.createElement(w,{onClick:function(){return n(l)}},"Delete")))},ee=function(e){var t=e.onChange,n=e.value,r=e.autoFocus;return a.createElement(R,{label:"Value:"},a.createElement(T,null,a.createElement(F,{name:"value",placeholder:"Enter value",value:n,onChange:function(e){return t(e.target.value)},required:!0,pattern:"[a-zA-Z0-9]+",autoFocus:r})))},te=function(e){var t=e.attributes,n=e.onSubmit,r=e.onClose,l=a.useState(""),c=Object(u.a)(l,2),o=c[0],m=c[1],s=a.useState(""),d=Object(u.a)(s,2),p=d[0],b=d[1];return a.createElement("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation();var a=o.trim(),l=p.trim();a&&l&&!t.some((function(e){return e.name===o}))&&(n({id:i()(),name:o,value:p}),r())}},a.createElement(Z,{value:o,onChange:m,autoFocus:!0}),a.createElement(ee,{value:p,onChange:b}),a.createElement(T,{align:"between"},a.createElement(w,{type:"submit"},"Add"),a.createElement(w,{onClick:r},"Cancel")))},ne=function(e){var t=e.name,n=e.attributes,r=e.onSubmit,l=a.useState(!1),c=Object(u.a)(l,2),o=c[0],i=c[1],m=a.useCallback((function(){return i(!1)}),[]),s=a.useCallback((function(){return i(!0)}),[]);return a.createElement(a.Fragment,null,a.createElement(w,{onClick:s},"Add attribute"),a.createElement(P,{show:o,title:"Add attribute - ".concat(t),onClose:m},a.createElement(te,{attributes:n,onSubmit:r,onClose:m})))};function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=function(e){var t=e.id,n=e.onClose,r=_(t),l=O().edit,c=a.useState(r.name),o=Object(u.a)(c,2),i=o[0],m=o[1],s=a.useState(r.attributes),d=Object(u.a)(s,2),p=d[0],b=d[1],f=function(e,t){b(p.map((function(n){return e===n.name?re({},n,{value:t}):n})))},E=function(e){b(p.filter((function(t){return e!==t.name})))};return a.createElement("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=i.trim();t&&(l(re({},r,{attributes:p,name:t})),n())}},a.createElement(Z,{onChange:m,value:i,autoFocus:!0}),p.map((function(e,t){return a.createElement($,{key:t,name:e.name,value:e.value,onChange:f,onDelete:E})})),a.createElement(T,{align:"center"},a.createElement(ne,{attributes:p,name:i,onSubmit:function(e){b(p.concat(e))}})),a.createElement(w,{type:"submit"},"Save"))},ce=function(e){var t=e.id,n=e.name,r=a.useState(!1),l=Object(u.a)(r,2),c=l[0],o=l[1],i=a.useCallback((function(){return o(!1)}),[]),m=a.useCallback((function(){return o(!0)}),[]);return a.createElement(a.Fragment,null,a.createElement(V,{name:"pen",onClick:m}),a.createElement(P,{show:c,title:"Edit element - ".concat(n),onClose:i},a.createElement(le,{id:t,onClose:i})))},ue=n(9),oe=n.n(ue),ie=function(e){var t=e.children,n=e.data,r=e.onRemove,l=a.useState(!0),c=Object(u.a)(l,2),o=c[0],i=c[1],m=a.useCallback((function(){return i(!o)}),[o,i]),s=n.id,d=n.name,p=n.attributes,b=o&&t;return a.createElement("span",{className:oe.a.element},a.createElement("span",{className:oe.a.target},t&&a.createElement(V,{name:o?"caret-down":"caret-right",onClick:m}),a.createElement(L,{selfClosed:!b},d,p.map((function(e){var t=e.id,n=e.name,r=e.value;return a.createElement(Q,{key:t,name:n,value:r})}))),a.createElement("span",{className:oe.a.buttons},a.createElement(U,{id:s,name:d}),a.createElement(ce,{id:s,name:d}),a.createElement(V,{name:"trash",onClick:r}))),b&&a.createElement(a.Fragment,null,t,a.createElement(L,{closed:!0},d)))},me=n(19),se=n.n(me),de=function(e){var t=e.list;return a.createElement("ul",{className:se.a.list},t.map((function(e){return a.createElement("li",{key:e},a.createElement(pe,{id:e}))})))},pe=function(e){var t=e.id,n=_(t),r=O().remove,l=a.useCallback((function(){return r(t)}),[r,t]);return a.createElement(ie,{data:n,onRemove:l},n.children.length>0&&a.createElement(de,{list:n.children}))},be=function(){var e=g().root;return a.createElement(de,{list:e})},fe=n(10),Ee=n.n(fe),ve=n(11),ye=n.n(ve),he=n(3),ge=n.n(he),_e=function(e){var t=e.children,n=e.name;return a.createElement("span",{className:ye()(ge.a.block,ge.a.comma)},n&&a.createElement(Ce,null,n),t)},Oe=function(e){var t=e.children;return a.createElement("span",{className:ye()(ge.a.block,ge.a.padded)},t)},Ce=function(e){var t=e.children;return a.createElement("span",null,'"',t,'": ')},je=function(e){var t=e.children;return a.createElement("span",{className:ge.a.string},'"',t,'"')},ke=function(e){var t=e.children;return a.createElement("span",{className:ge.a.comma},a.createElement("span",null,"["),t&&a.createElement(Oe,null,t),a.createElement("span",null,"]"))},we=function(e){var t=e.children;return a.createElement("span",{className:ge.a.comma},a.createElement("span",null,"{"),t&&a.createElement(Oe,null,t),a.createElement("span",null,"}"))},Ie=function(e){var t=e.children,n=e.data,r=e.onRemove,l=n.id,c=n.name,u=n.attributes;return a.createElement(_e,null,a.createElement("span",{className:Ee.a.element},a.createElement(we,null,a.createElement("span",{className:Ee.a.target},a.createElement(Ce,null,"id"),a.createElement(je,null,l),",",a.createElement("span",{className:Ee.a.buttons},a.createElement(U,{id:l,name:c}),a.createElement(ce,{id:l,name:c}),a.createElement(V,{name:"trash",onClick:r})),a.createElement(_e,{name:"name"},a.createElement(je,null,c)),a.createElement(_e,{name:"attributes"},a.createElement(ke,null,u.length>0&&u.map((function(e){var t=e.id,n=e.name,r=e.value;return a.createElement(_e,{key:t},a.createElement(we,null,a.createElement(_e,{name:"id"},a.createElement(je,null,t)),a.createElement(_e,{name:"name"},a.createElement(je,null,n)),a.createElement(_e,{name:"value"},a.createElement(je,null,r))))}))),",")),a.createElement(_e,{name:"children"},a.createElement(ke,null,t)))))},Ne=function(e){var t=e.list;return a.createElement(a.Fragment,null,t.map((function(e){return a.createElement(Pe,{key:e,id:e})})))},Pe=function(e){var t=e.id,n=_(t),r=O().remove,l=a.useCallback((function(){return r(t)}),[r,t]);return a.createElement(Ie,{data:n,onRemove:l},n.children.length>0&&a.createElement(Ne,{list:n.children}))},Se=function(){var e=g().root;return a.createElement(_e,null,a.createElement(ke,null,e.length>0&&a.createElement(Ne,{list:e})))},De=function(){var e=a.useState(!0),t=Object(u.a)(e,2),n=t[0],r=t[1],l=a.useCallback((function(){return r(!n)}),[n,r]);return a.createElement(a.Fragment,null,a.createElement(w,{onClick:l},"Change view"),n?a.createElement(be,null):a.createElement(Se,null))};c.a.render(r.a.createElement((function(){return a.createElement(C,null,a.createElement(H,null),a.createElement(De,null))}),null),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.611f2fab.chunk.js.map